// nextflow.config


params {
    pod5_dir = "${launchDir}/pod5"
    sam_dir = "${launchDir}/sam_files/" // Default or override
    parquet_dir = "${launchDir}/parquet_files/" // Default or override
    primer_file = "${baseDir}/scripts/primers.txt"
    output_file = "pod5_processed.pqt"

    //pod5_dir = '/path/to/pod5_files'      // Input pod5 files directory
    //output_dir = '/path/to/output'        // Output directory for SAM files
    //dorado_config = '/path/to/dorado_config.toml'  // Dorado config file
}


profiles {
    local {
        process {
            executor = 'local'
            cpus = 36
            memory = '64 GB'
            //container = 'your_dockerhub_username/nextflow-cpu:latest'
        }
    }

    slurm {
        process {
            executor = 'slurm'
            queue = 'gpu'  // Replace with your Slurm GPU queue
            clusterOptions = '--time=04:00:00 --mem=16G --gres=gpu:2'
            container = 'your_dockerhub_username/nextflow-gpu:latest'
            cpus = 4
            memory = '16 GB'
        }
    }
}


//process.basecall_dorado {
//    conda = 'environment.yml'    // Use Conda environment for this process
//    container = 'docker://nanoporetech/dorado:0.2.0'  // Docker (optional, can be overridden)
//}
